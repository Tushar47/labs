<!DOCTYPE  html>
<html lang="en">
	<head>
		
		<title>Tushar Sonawane</title>
				
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />        
		<meta name="author" content="Tushar Sonawane">
		<meta name="description" content="Todo App By Tushar Sonawane">
		
		<!-- Mobile viewport optimized: j.mp/bpalteviewport -->
		<meta name="viewport" content="width=device-width,initial-scale=1" />
		
		<!-- Styles -->
		<!-- Main Stylesheet -->
		<link rel="stylesheet" href="styles/style.css" />
				
		<!-- Fav Icon -->
		<link rel="icon" type="image/ico" href="favicon.ico">
	</head>
	<body>
		<header>
			<h1>To Do App</h1>
		</header>
		<section id = "main">
			<input id="new-todo" placeholder="What needs to be done?" autofocus="">
			
			<ul id = "todo-list">
				<li class="data">
						<label>todo</label>
						<button class="destroy controls"></button>
						<button class="check controls"></button>
				</li>
			</ul>
			
			<ul id = "done-list">
				<li class="data">
						<label>done</label>
						<button class="destroy controls"></button>
						<button class="check controls"></button>
				</li>
			</ul>
		</section>
		<footer>
		CopyRightLeft â™¥ Tushar Sonawane
		</footer>
	</body>
	
	<!-- JavaScript -->
	<script src = "/jquery.min.js"></script>
	<script>
		// On Ready
		$(function(){
			// console.log
			var debug = true,
				_log = function() {
					debug && window.console && console.log.apply(console, arguments);
				};
				
			// add to do
			$('#new-todo').keypress(function(e) {
				var $this = $(this);
				if(e.which == 13) {
					var str = $this.val();
					_log("Str: " + str);
					$this.val("");
				
				if(str != "") {
					$this.siblings('#todo-list').prepend('<li class="data"> ' + 
											'<label>' + str + '</label>' +
											'<button class="destroy controls"></button>' +
											'<button class="check controls"></button>' +
											'</li>');
				}
				}	
			});
			
			//show controls
			
			$('#main').on('hover', '.data', function(evt) {
					var $controls = $(this).children('.controls');
					if(evt.type == 'mouseenter') {
						$controls.animate({'opacity' : '1'}, 'fast');
					} else {
						$controls.animate({'opacity' : '0'}, 1);
					}
				}
			);
			
			function moveItem($item) {
								
				if($item.closest('ul').is('#todo-list')){
					$item.parent().detach().appendTo('#done-list');
				} else {
					$item.parent().detach().appendTo('#todo-list');
				}
				
			}
			// done
			$('#main').on('click', '.check', function() {
				moveItem($(this));
			});
			
			
			//destroy
			$('#main').on('click', '.destroy', function() {
				$(this).closest('.data').remove();
			});
			
		});
	</script>
</html>